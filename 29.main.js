(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[29],{

/***/ "./src/ninja.detailwallet.js":
/*!***********************************!*\
  !*** ./src/ninja.detailwallet.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = async function () {\n  const {\n    QRCodeScanner\n  } = await __webpack_require__.e(/*! import() */ 68).then(__webpack_require__.t.bind(null, /*! ./jsqrcode.js */ \"./src/jsqrcode.js\", 7));\n  const translator = await __webpack_require__.e(/*! import() */ 9).then(__webpack_require__.t.bind(null, /*! ./ninja.translator.js */ \"./src/ninja.translator.js\", 7));\n  const privateKey = await Promise.all(/*! import() */[__webpack_require__.e(0), __webpack_require__.e(15)]).then(__webpack_require__.t.bind(null, /*! ./ninja.privatekey.js */ \"./src/ninja.privatekey.js\", 7));\n  const brainwallet = await __webpack_require__.e(/*! import() */ 18).then(__webpack_require__.t.bind(null, /*! ./ninja.brainwallet.js */ \"./src/ninja.brainwallet.js\", 7));\n  const qrCode = await Promise.all(/*! import() */[__webpack_require__.e(16), __webpack_require__.e(14)]).then(__webpack_require__.t.bind(null, /*! ./ninja.qrcode */ \"./src/ninja.qrcode/index.js\", 7));\n  const janin = await __webpack_require__.e(/*! import() */ 13).then(__webpack_require__.t.bind(null, /*! ./janin.currency.js */ \"./src/janin.currency.js\", 7));\n  const bitcoin = await Promise.all(/*! import() */[__webpack_require__.e(1), __webpack_require__.e(0), __webpack_require__.e(2), __webpack_require__.e(3), __webpack_require__.e(5), __webpack_require__.e(6), __webpack_require__.e(7), __webpack_require__.e(4), __webpack_require__.e(8), __webpack_require__.e(10), __webpack_require__.e(11), __webpack_require__.e(17)]).then(__webpack_require__.t.bind(null, /*! bitgo-utxo-lib */ \"./node_modules/bitgo-utxo-lib/src/index.js\", 7));\n  const bigi = (await Promise.all(/*! import() */[__webpack_require__.e(0), __webpack_require__.e(4), __webpack_require__.e(8), __webpack_require__.e(32)]).then(__webpack_require__.t.bind(null, /*! bigi */ \"./node_modules/bigi/lib/index.js\", 7))).default;\n  const qrscanner = {\n    scanner: null,\n    start: function () {\n      document.getElementById(\"paperqrscanner\").className = \"show\";\n      qrscanner.showError(null);\n      const supported = qrscanner.scanner.isSupported();\n\n      if (!supported) {\n        document.getElementById(\"paperqrnotsupported\").className = \"\";\n      } else {\n        qrscanner.scanner.start();\n      }\n    },\n    stop: function () {\n      qrscanner.scanner.stop();\n      document.getElementById(\"paperqrscanner\").className = \"\";\n    },\n    showError: function (error) {\n      if (error) {\n        if (error === \"PERMISSION_DENIED\" || error === \"PermissionDeniedError\") {\n          document.getElementById(\"paperqrerror\").innerHTML = \"\";\n          document.getElementById(\"paperqrpermissiondenied\").className = \"\";\n        } else {\n          document.getElementById(\"paperqrerror\").innerHTML = error;\n          document.getElementById(\"paperqrpermissiondenied\").className = \"hide\";\n        }\n      } else {\n        document.getElementById(\"paperqrerror\").innerHTML = \"\";\n        document.getElementById(\"paperqrpermissiondenied\").className = \"hide\";\n      }\n    }\n  };\n\n  const open = function () {\n    document.getElementById(\"detailarea\").style.display = \"block\";\n    document.getElementById(\"detailprivkey\").focus();\n\n    if (!qrscanner.scanner) {\n      qrscanner.scanner = new QRCodeScanner(320, 240, \"paperqroutput\", function (data) {\n        document.getElementById(\"detailprivkey\").value = data;\n        document.getElementById(\"paperqrscanner\").className = \"\";\n        viewDetails();\n      }, function (error) {\n        qrscanner.showError(error);\n      });\n    }\n  };\n\n  const close = function () {\n    document.getElementById(\"detailarea\").style.display = \"none\";\n  };\n\n  const openCloseFaq = function (faqNum) {\n    // do close\n    if (document.getElementById(\"detaila\" + faqNum).style.display === \"block\") {\n      document.getElementById(\"detaila\" + faqNum).style.display = \"none\";\n      document.getElementById(\"detaile\" + faqNum).setAttribute(\"class\", \"more\");\n    } // do open\n    else {\n        document.getElementById(\"detaila\" + faqNum).style.display = \"block\";\n        document.getElementById(\"detaile\" + faqNum).setAttribute(\"class\", \"less\");\n      }\n  };\n\n  const viewDetails = function () {\n    const key = document.getElementById(\"detailprivkey\").value.toString().replace(/^\\s+|\\s+$/g, \"\"); // trim white space\n\n    document.getElementById(\"detailprivkey\").value = key;\n    const bip38CommandDisplay = document.getElementById(\"detailbip38commands\").style.display;\n    clear();\n\n    if (!key) {\n      return;\n    }\n\n    if (privateKey.isBIP38Format(key)) {\n      document.getElementById(\"detailbip38commands\").style.display = bip38CommandDisplay;\n\n      if (bip38CommandDisplay !== \"block\") {\n        document.getElementById(\"detailbip38commands\").style.display = \"block\";\n        document.getElementById(\"detailprivkeypassphrase\").focus();\n        return;\n      }\n\n      const passphrase = document.getElementById(\"detailprivkeypassphrase\").value.toString().replace(/^\\s+|\\s+$/g, \"\"); // trim white space\n\n      if (!passphrase) {\n        alert(translator.get(\"bip38alertpassphraserequired\"));\n        return;\n      }\n\n      document.getElementById(\"busyblock\").className = \"busy\"; // show Private Key BIP38 Format\n\n      document.getElementById(\"detailprivbip38\").innerHTML = key;\n      document.getElementById(\"detailbip38\").style.display = \"block\";\n      privateKey.BIP38EncryptedKeyToByteArrayAsync(key, passphrase, function (btcKeyOrError) {\n        document.getElementById(\"busyblock\").className = \"\";\n\n        if (btcKeyOrError.message) {\n          alert(btcKeyOrError.message);\n          clear();\n        } else {\n          populateKeyDetails(privateKey.create(btcKeyOrError));\n        }\n      });\n    } else {\n      let btcKey = privateKey.decodePrivateKey(key);\n\n      if (!btcKey) {\n        // enforce a minimum passphrase length\n        if (key.length >= brainwallet.minPassphraseLength) {\n          // Deterministic Wallet confirm box to ask if user wants to SHA256 the input to get a private key\n          const usePassphrase = confirm(translator.get(\"detailconfirmsha256\"));\n\n          if (usePassphrase) {\n            const bytes = bitcoin.crypto.sha256(key);\n            btcKey = privateKey.create(bigi.fromBuffer(bytes), null);\n          } else {\n            clear();\n          }\n        } else {\n          alert(translator.get(\"detailalertnotvalidprivatekey\"));\n          clear();\n        }\n      } else {\n        populateKeyDetails(btcKey);\n      }\n    }\n  };\n\n  const populateKeyDetails = function (btcKey) {\n    if (janin.selectedCurrency.havePrivateKey(btcKey)) {\n      const privKeyBuffer = janin.selectedCurrency.getPrivateKeyBuffer(btcKey);\n      document.getElementById(\"detailprivhex\").innerHTML = privKeyBuffer.toString(\"hex\").toUpperCase();\n      document.getElementById(\"detailprivb64\").innerHTML = privKeyBuffer.toString(\"base64\");\n      const privTitles = janin.selectedCurrency.getWIFTitleNames();\n      const privQrParams = {};\n\n      for (let i in privTitles) {\n        if ({}.hasOwnProperty.call(privTitles, i)) {\n          const stripped = privTitles[i].toLowerCase().replace(/[^a-z0-9]/g, \"\");\n          const address = janin.selectedCurrency.getWIFByType(btcKey, +i);\n          privQrParams[`detailqrcode${stripped}`] = address;\n          document.getElementById(`detailaddress${stripped}`).innerHTML = address;\n        }\n      }\n\n      qrCode.showQrCode(privQrParams, 4);\n    }\n\n    const pubKeyCompressed = janin.selectedCurrency.getPublicKey(btcKey, true);\n    const pubKeyUncompressed = janin.selectedCurrency.getPublicKey(btcKey, false);\n    document.getElementById(\"detailpubkey\").innerHTML = pubKeyUncompressed.toString(\"hex\").toUpperCase();\n    document.getElementById(\"detailpubkeycomp\").innerHTML = pubKeyCompressed.toString(\"hex\").toUpperCase();\n    const addrTitles = janin.selectedCurrency.getAddressTitleNames();\n    const addrQrParams = {};\n\n    for (let i in addrTitles) {\n      if ({}.hasOwnProperty.call(addrTitles, i)) {\n        const stripped = addrTitles[i].toLowerCase().replace(/[^a-z0-9]/g, \"\");\n        const address = janin.selectedCurrency.getAddressWith(btcKey, +i);\n        addrQrParams[`detailqrcode${stripped}`] = address;\n        document.getElementById(`detailaddress${stripped}`).innerHTML = address;\n      }\n    }\n\n    qrCode.showQrCode(addrQrParams, 4);\n  };\n\n  const clear = function () {\n    document.getElementById(\"detailpubkey\").innerHTML = \"\";\n    document.getElementById(\"detailpubkeycomp\").innerHTML = \"\";\n    document.getElementById(\"detailprivhex\").innerHTML = \"\";\n    document.getElementById(\"detailprivb64\").innerHTML = \"\";\n    document.getElementById(\"detailprivb6\").innerHTML = \"\";\n    document.getElementById(\"detailprivmini\").innerHTML = \"\";\n    document.getElementById(\"detailprivbip38\").innerHTML = \"\";\n    document.getElementById(\"detailb6\").style.display = \"none\";\n    document.getElementById(\"detailmini\").style.display = \"none\";\n    document.getElementById(\"detailbip38commands\").style.display = \"none\";\n    document.getElementById(\"detailbip38\").style.display = \"none\";\n    const titles = Array.prototype.concat.call(janin.selectedCurrency.getAddressTitleNames(), janin.selectedCurrency.getWIFTitleNames());\n\n    for (let i in titles) {\n      if ({}.hasOwnProperty.call(titles, i)) {\n        const stripped = titles[i].toLowerCase().replace(/[^a-z0-9]/g, \"\");\n        document.getElementById(`detailqrcode${stripped}`).innerHTML = \"\";\n        document.getElementById(`detailaddress${stripped}`).innerHTML = \"\";\n      }\n    }\n  };\n\n  return {\n    qrscanner,\n    open,\n    close,\n    openCloseFaq,\n    viewDetails,\n    populateKeyDetails,\n    clear\n  };\n}();\n\nmodule.exports.__esModule = true;\n\n//# sourceURL=webpack:///./src/ninja.detailwallet.js?");

/***/ })

}]);