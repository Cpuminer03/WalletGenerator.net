(window.webpackJsonp=window.webpackJsonp||[]).push([[8,9],{128:function(e,t,n){const{QRCodeScanner:r}=n(129),i=n(33),o=n(46),a=n(69),s=n(45),h=n(41),d=n(42),c=n(21),l={scanner:null,start:function(){document.getElementById("paperqrscanner").className="show",l.showError(null);l.scanner.isSupported()?l.scanner.start():document.getElementById("paperqrnotsupported").className=""},stop:function(){l.scanner.stop(),document.getElementById("paperqrscanner").className=""},showError:function(e){e?"PERMISSION_DENIED"===e||"PermissionDeniedError"===e?(document.getElementById("paperqrerror").innerHTML="",document.getElementById("paperqrpermissiondenied").className=""):(document.getElementById("paperqrerror").innerHTML=e,document.getElementById("paperqrpermissiondenied").className="hide"):(document.getElementById("paperqrerror").innerHTML="",document.getElementById("paperqrpermissiondenied").className="hide")}},w=function(){const e=document.getElementById("detailprivkey").value.toString().replace(/^\s+|\s+$/g,"");document.getElementById("detailprivkey").value=e;const t=document.getElementById("detailbip38commands").style.display;if(u(),e)if(o.isBIP38Format(e)){if(document.getElementById("detailbip38commands").style.display=t,"block"!==t)return document.getElementById("detailbip38commands").style.display="block",void document.getElementById("detailprivkeypassphrase").focus();const n=document.getElementById("detailprivkeypassphrase").value.toString().replace(/^\s+|\s+$/g,"");if(!n)return void alert(i.get("bip38alertpassphraserequired"));document.getElementById("busyblock").className="busy",document.getElementById("detailprivbip38").innerHTML=e,document.getElementById("detailbip38").style.display="block",o.BIP38EncryptedKeyToByteArrayAsync(e,n,(function(e){document.getElementById("busyblock").className="",e.message?(alert(e.message),u()):f(o.create(e))}))}else{let t=o.decodePrivateKey(e);if(t)f(t);else if(e.length>=a.minPassphraseLength){if(confirm(i.get("detailconfirmsha256"))){const n=d.crypto.sha256(e);t=o.create(c.fromBuffer(n),null)}else u()}else alert(i.get("detailalertnotvalidprivatekey")),u()}},f=function(e){if(h.selectedCurrency.havePrivateKey(e)){const t=h.selectedCurrency.getPrivateKeyBuffer(e);document.getElementById("detailprivhex").innerHTML=t.toString("hex").toUpperCase(),document.getElementById("detailprivb64").innerHTML=t.toString("base64");const n=h.selectedCurrency.getWIFTitleNames(),r={};for(let t in n)if({}.hasOwnProperty.call(n,t)){const i=n[t].toLowerCase().replace(/[^a-z0-9]/g,""),o=h.selectedCurrency.getWIFByType(e,+t);r["detailqrcode"+i]=o,document.getElementById("detailaddress"+i).innerHTML=o}s.showQrCode(r,4)}const t=h.selectedCurrency.getPublicKey(e,!0),n=h.selectedCurrency.getPublicKey(e,!1);document.getElementById("detailpubkey").innerHTML=n.toString("hex").toUpperCase(),document.getElementById("detailpubkeycomp").innerHTML=t.toString("hex").toUpperCase();const r=h.selectedCurrency.getAddressTitleNames(),i={};for(let t in r)if({}.hasOwnProperty.call(r,t)){const n=r[t].toLowerCase().replace(/[^a-z0-9]/g,""),o=h.selectedCurrency.getAddressWith(e,+t);i["detailqrcode"+n]=o,document.getElementById("detailaddress"+n).innerHTML=o}s.showQrCode(i,4)},u=function(){document.getElementById("detailpubkey").innerHTML="",document.getElementById("detailpubkeycomp").innerHTML="",document.getElementById("detailprivhex").innerHTML="",document.getElementById("detailprivb64").innerHTML="",document.getElementById("detailprivb6").innerHTML="",document.getElementById("detailprivmini").innerHTML="",document.getElementById("detailprivbip38").innerHTML="",document.getElementById("detailb6").style.display="none",document.getElementById("detailmini").style.display="none",document.getElementById("detailbip38commands").style.display="none",document.getElementById("detailbip38").style.display="none";const e=Array.prototype.concat.call(h.selectedCurrency.getAddressTitleNames(),h.selectedCurrency.getWIFTitleNames());for(let t in e)if({}.hasOwnProperty.call(e,t)){const n=e[t].toLowerCase().replace(/[^a-z0-9]/g,"");document.getElementById("detailqrcode"+n).innerHTML="",document.getElementById("detailaddress"+n).innerHTML=""}};e.exports={qrscanner:l,open:function(){document.getElementById("detailarea").style.display="block",document.getElementById("detailprivkey").focus(),l.scanner||(l.scanner=new r(320,240,"paperqroutput",(function(e){document.getElementById("detailprivkey").value=e,document.getElementById("paperqrscanner").className="",w()}),(function(e){l.showError(e)})))},close:function(){document.getElementById("detailarea").style.display="none"},openCloseFaq:function(e){"block"===document.getElementById("detaila"+e).style.display?(document.getElementById("detaila"+e).style.display="none",document.getElementById("detaile"+e).setAttribute("class","more")):(document.getElementById("detaila"+e).style.display="block",document.getElementById("detaile"+e).setAttribute("class","less"))},viewDetails:w,populateKeyDetails:f,clear:u}},129:function(e,t){function n(e,t){this.count=e,this.dataCodewords=t,this.__defineGetter__("Count",(function(){return this.count})),this.__defineGetter__("DataCodewords",(function(){return this.dataCodewords}))}function r(e,t,n){this.ecCodewordsPerBlock=e,this.ecBlocks=n?new Array(t,n):new Array(t),this.__defineGetter__("ECCodewordsPerBlock",(function(){return this.ecCodewordsPerBlock})),this.__defineGetter__("TotalECCodewords",(function(){return this.ecCodewordsPerBlock*this.NumBlocks})),this.__defineGetter__("NumBlocks",(function(){for(var e=0,t=0;t<this.ecBlocks.length;t++)e+=this.ecBlocks[t].length;return e})),this.getECBlocks=function(){return this.ecBlocks}}function i(e,t,n,r,i,o){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=new Array(n,r,i,o);for(var a=0,s=n.ECCodewordsPerBlock,h=n.getECBlocks(),d=0;d<h.length;d++){var c=h[d];a+=c.Count*(c.DataCodewords+s)}this.totalCodewords=a,this.__defineGetter__("VersionNumber",(function(){return this.versionNumber})),this.__defineGetter__("AlignmentPatternCenters",(function(){return this.alignmentPatternCenters})),this.__defineGetter__("TotalCodewords",(function(){return this.totalCodewords})),this.__defineGetter__("DimensionForVersion",(function(){return 17+4*this.versionNumber})),this.buildFunctionPattern=function(){var e=this.DimensionForVersion,t=new y(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,r=0;r<n;r++)for(var i=this.alignmentPatternCenters[r]-2,o=0;o<n;o++)0==r&&(0==o||o==n-1)||r==n-1&&0==o||t.setRegion(this.alignmentPatternCenters[o]-2,i,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},this.getECBlocksForLevel=function(e){return this.ecBlocks[e.ordinal()]}}function o(e,t,n,r,i,a,s,h,d){this.a11=e,this.a12=r,this.a13=s,this.a21=t,this.a22=i,this.a23=h,this.a31=n,this.a32=a,this.a33=d,this.transformPoints1=function(e){for(var t=e.length,n=this.a11,r=this.a12,i=this.a13,o=this.a21,a=this.a22,s=this.a23,h=this.a31,d=this.a32,c=this.a33,l=0;l<t;l+=2){var w=e[l],f=e[l+1],u=i*w+s*f+c;e[l]=(n*w+o*f+h)/u,e[l+1]=(r*w+a*f+d)/u}},this.transformPoints2=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r],o=t[r],a=this.a13*i+this.a23*o+this.a33;e[r]=(this.a11*i+this.a21*o+this.a31)/a,t[r]=(this.a12*i+this.a22*o+this.a32)/a}},this.buildAdjoint=function(){return new o(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},this.times=function(e){return new o(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}function a(e,t){this.bits=e,this.points=t}function s(e){this.image=e,this.resultPointCallback=null,this.sizeOfBlackWhiteBlackRun=function(e,t,n,r){var i=Math.abs(r-t)>Math.abs(n-e);if(i){var o=e;e=t,t=o,o=n,n=r,r=o}for(var a=Math.abs(n-e),s=Math.abs(r-t),h=-a>>1,d=t<r?1:-1,c=e<n?1:-1,l=0,w=e,f=t;w!=n;w+=c){var u=i?f:w,m=i?w:f;if(1==l?this.image[u+m*qrcode.width]&&l++:this.image[u+m*qrcode.width]||l++,3==l){var g=w-e,y=f-t;return Math.sqrt(g*g+y*y)}if((h+=s)>0){if(f==r)break;f+=d,h-=a}}var v=n-e,p=r-t;return Math.sqrt(v*v+p*p)},this.sizeOfBlackWhiteBlackRunBothWays=function(e,t,n,r){var i=this.sizeOfBlackWhiteBlackRun(e,t,n,r),o=1,a=e-(n-e);a<0?(o=e/(e-a),a=0):a>=qrcode.width&&(o=(qrcode.width-1-e)/(a-e),a=qrcode.width-1);var s=Math.floor(t-(r-t)*o);return o=1,s<0?(o=t/(t-s),s=0):s>=qrcode.height&&(o=(qrcode.height-1-t)/(s-t),s=qrcode.height-1),a=Math.floor(e+(a-e)*o),(i+=this.sizeOfBlackWhiteBlackRun(e,t,a,s))-1},this.calculateModuleSizeOneWay=function(e,t){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.X),Math.floor(e.Y),Math.floor(t.X),Math.floor(t.Y)),r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.X),Math.floor(t.Y),Math.floor(e.X),Math.floor(e.Y));return isNaN(n)?r/7:isNaN(r)?n/7:(n+r)/14},this.calculateModuleSize=function(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2},this.distance=function(e,t){return xDiff=e.X-t.X,yDiff=e.Y-t.Y,Math.sqrt(xDiff*xDiff+yDiff*yDiff)},this.computeDimension=function(e,t,n,r){var i=7+(Math.round(this.distance(e,t)/r)+Math.round(this.distance(e,n)/r)>>1);switch(3&i){case 0:i++;break;case 2:i--;break;case 3:throw"Error"}return i},this.findAlignmentInRegion=function(e,t,n,r){var i=Math.floor(r*e),o=Math.max(0,t-i),a=Math.min(qrcode.width-1,t+i);if(a-o<3*e)throw"Error";var s=Math.max(0,n-i),h=Math.min(qrcode.height-1,n+i);return new E(this.image,o,s,a-o,h-s,e,this.resultPointCallback).find()},this.createTransform=function(e,t,n,r,i){var a,s,h,d,c=i-3.5;return null!=r?(a=r.X,s=r.Y,h=d=c-3):(a=t.X-e.X+n.X,s=t.Y-e.Y+n.Y,h=d=c),o.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,h,d,3.5,c,e.X,e.Y,t.X,t.Y,a,s,n.X,n.Y)},this.sampleGrid=function(e,t,n){return GridSampler.sampleGrid3(e,n,t)},this.processFinderPatternInfo=function(e){var t=e.TopLeft,n=e.TopRight,r=e.BottomLeft,o=this.calculateModuleSize(t,n,r);if(o<1)throw"Error";var s=this.computeDimension(t,n,r,o),h=i.getProvisionalVersionForDimension(s),d=h.DimensionForVersion-7,c=null;if(h.AlignmentPatternCenters.length>0)for(var l=n.X-t.X+r.X,w=n.Y-t.Y+r.Y,f=1-3/d,u=Math.floor(t.X+f*(l-t.X)),m=Math.floor(t.Y+f*(w-t.Y)),g=4;g<=16;g<<=1){c=this.findAlignmentInRegion(o,u,m,g);break}var y=this.createTransform(t,n,r,c,s);return new a(this.sampleGrid(this.image,y,s),null==c?new Array(r,t,n):new Array(r,t,n,c))},this.detect=function(){var e=(new k).findFinderPattern(this.image);return this.processFinderPatternInfo(e)}}GridSampler={},GridSampler.checkAndNudgePoints=function(e,t){for(var n=qrcode.width,r=qrcode.height,i=!0,o=0;o<t.length&&i;o+=2){var a=Math.floor(t[o]),s=Math.floor(t[o+1]);if(a<-1||a>n||s<-1||s>r)throw"Error.checkAndNudgePoints ";i=!1,-1==a?(t[o]=0,i=!0):a==n&&(t[o]=n-1,i=!0),-1==s?(t[o+1]=0,i=!0):s==r&&(t[o+1]=r-1,i=!0)}i=!0;for(o=t.length-2;o>=0&&i;o-=2){a=Math.floor(t[o]),s=Math.floor(t[o+1]);if(a<-1||a>n||s<-1||s>r)throw"Error.checkAndNudgePoints ";i=!1,-1==a?(t[o]=0,i=!0):a==n&&(t[o]=n-1,i=!0),-1==s?(t[o+1]=0,i=!0):s==r&&(t[o+1]=r-1,i=!0)}},GridSampler.sampleGrid3=function(e,t,n){for(var r=new y(t),i=new Array(t<<1),o=0;o<t;o++){for(var a=i.length,s=o+.5,h=0;h<a;h+=2)i[h]=.5+(h>>1),i[h+1]=s;n.transformPoints1(i),GridSampler.checkAndNudgePoints(e,i);try{for(h=0;h<a;h+=2){var d=4*Math.floor(i[h])+Math.floor(i[h+1])*qrcode.width*4,c=e[Math.floor(i[h])+qrcode.width*Math.floor(i[h+1])];qrcode.imagedata.data[d]=c?255:0,qrcode.imagedata.data[d+1]=c?255:0,qrcode.imagedata.data[d+2]=0,qrcode.imagedata.data[d+3]=255,c&&r.set_Renamed(h>>1,o)}}catch(e){throw"Error.checkAndNudgePoints"}}return r},GridSampler.sampleGridx=function(e,t,n,r,i,a,s,h,d,c,l,w,f,u,m,g,y,v){var p=o.quadrilateralToQuadrilateral(n,r,i,a,s,h,d,c,l,w,f,u,m,g,y,v);return GridSampler.sampleGrid3(e,t,p)},i.VERSION_DECODE_INFO=new Array(31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017),i.VERSIONS=new Array(new i(1,new Array,new r(7,new n(1,19)),new r(10,new n(1,16)),new r(13,new n(1,13)),new r(17,new n(1,9))),new i(2,new Array(6,18),new r(10,new n(1,34)),new r(16,new n(1,28)),new r(22,new n(1,22)),new r(28,new n(1,16))),new i(3,new Array(6,22),new r(15,new n(1,55)),new r(26,new n(1,44)),new r(18,new n(2,17)),new r(22,new n(2,13))),new i(4,new Array(6,26),new r(20,new n(1,80)),new r(18,new n(2,32)),new r(26,new n(2,24)),new r(16,new n(4,9))),new i(5,new Array(6,30),new r(26,new n(1,108)),new r(24,new n(2,43)),new r(18,new n(2,15),new n(2,16)),new r(22,new n(2,11),new n(2,12))),new i(6,new Array(6,34),new r(18,new n(2,68)),new r(16,new n(4,27)),new r(24,new n(4,19)),new r(28,new n(4,15))),new i(7,new Array(6,22,38),new r(20,new n(2,78)),new r(18,new n(4,31)),new r(18,new n(2,14),new n(4,15)),new r(26,new n(4,13),new n(1,14))),new i(8,new Array(6,24,42),new r(24,new n(2,97)),new r(22,new n(2,38),new n(2,39)),new r(22,new n(4,18),new n(2,19)),new r(26,new n(4,14),new n(2,15))),new i(9,new Array(6,26,46),new r(30,new n(2,116)),new r(22,new n(3,36),new n(2,37)),new r(20,new n(4,16),new n(4,17)),new r(24,new n(4,12),new n(4,13))),new i(10,new Array(6,28,50),new r(18,new n(2,68),new n(2,69)),new r(26,new n(4,43),new n(1,44)),new r(24,new n(6,19),new n(2,20)),new r(28,new n(6,15),new n(2,16))),new i(11,new Array(6,30,54),new r(20,new n(4,81)),new r(30,new n(1,50),new n(4,51)),new r(28,new n(4,22),new n(4,23)),new r(24,new n(3,12),new n(8,13))),new i(12,new Array(6,32,58),new r(24,new n(2,92),new n(2,93)),new r(22,new n(6,36),new n(2,37)),new r(26,new n(4,20),new n(6,21)),new r(28,new n(7,14),new n(4,15))),new i(13,new Array(6,34,62),new r(26,new n(4,107)),new r(22,new n(8,37),new n(1,38)),new r(24,new n(8,20),new n(4,21)),new r(22,new n(12,11),new n(4,12))),new i(14,new Array(6,26,46,66),new r(30,new n(3,115),new n(1,116)),new r(24,new n(4,40),new n(5,41)),new r(20,new n(11,16),new n(5,17)),new r(24,new n(11,12),new n(5,13))),new i(15,new Array(6,26,48,70),new r(22,new n(5,87),new n(1,88)),new r(24,new n(5,41),new n(5,42)),new r(30,new n(5,24),new n(7,25)),new r(24,new n(11,12),new n(7,13))),new i(16,new Array(6,26,50,74),new r(24,new n(5,98),new n(1,99)),new r(28,new n(7,45),new n(3,46)),new r(24,new n(15,19),new n(2,20)),new r(30,new n(3,15),new n(13,16))),new i(17,new Array(6,30,54,78),new r(28,new n(1,107),new n(5,108)),new r(28,new n(10,46),new n(1,47)),new r(28,new n(1,22),new n(15,23)),new r(28,new n(2,14),new n(17,15))),new i(18,new Array(6,30,56,82),new r(30,new n(5,120),new n(1,121)),new r(26,new n(9,43),new n(4,44)),new r(28,new n(17,22),new n(1,23)),new r(28,new n(2,14),new n(19,15))),new i(19,new Array(6,30,58,86),new r(28,new n(3,113),new n(4,114)),new r(26,new n(3,44),new n(11,45)),new r(26,new n(17,21),new n(4,22)),new r(26,new n(9,13),new n(16,14))),new i(20,new Array(6,34,62,90),new r(28,new n(3,107),new n(5,108)),new r(26,new n(3,41),new n(13,42)),new r(30,new n(15,24),new n(5,25)),new r(28,new n(15,15),new n(10,16))),new i(21,new Array(6,28,50,72,94),new r(28,new n(4,116),new n(4,117)),new r(26,new n(17,42)),new r(28,new n(17,22),new n(6,23)),new r(30,new n(19,16),new n(6,17))),new i(22,new Array(6,26,50,74,98),new r(28,new n(2,111),new n(7,112)),new r(28,new n(17,46)),new r(30,new n(7,24),new n(16,25)),new r(24,new n(34,13))),new i(23,new Array(6,30,54,74,102),new r(30,new n(4,121),new n(5,122)),new r(28,new n(4,47),new n(14,48)),new r(30,new n(11,24),new n(14,25)),new r(30,new n(16,15),new n(14,16))),new i(24,new Array(6,28,54,80,106),new r(30,new n(6,117),new n(4,118)),new r(28,new n(6,45),new n(14,46)),new r(30,new n(11,24),new n(16,25)),new r(30,new n(30,16),new n(2,17))),new i(25,new Array(6,32,58,84,110),new r(26,new n(8,106),new n(4,107)),new r(28,new n(8,47),new n(13,48)),new r(30,new n(7,24),new n(22,25)),new r(30,new n(22,15),new n(13,16))),new i(26,new Array(6,30,58,86,114),new r(28,new n(10,114),new n(2,115)),new r(28,new n(19,46),new n(4,47)),new r(28,new n(28,22),new n(6,23)),new r(30,new n(33,16),new n(4,17))),new i(27,new Array(6,34,62,90,118),new r(30,new n(8,122),new n(4,123)),new r(28,new n(22,45),new n(3,46)),new r(30,new n(8,23),new n(26,24)),new r(30,new n(12,15),new n(28,16))),new i(28,new Array(6,26,50,74,98,122),new r(30,new n(3,117),new n(10,118)),new r(28,new n(3,45),new n(23,46)),new r(30,new n(4,24),new n(31,25)),new r(30,new n(11,15),new n(31,16))),new i(29,new Array(6,30,54,78,102,126),new r(30,new n(7,116),new n(7,117)),new r(28,new n(21,45),new n(7,46)),new r(30,new n(1,23),new n(37,24)),new r(30,new n(19,15),new n(26,16))),new i(30,new Array(6,26,52,78,104,130),new r(30,new n(5,115),new n(10,116)),new r(28,new n(19,47),new n(10,48)),new r(30,new n(15,24),new n(25,25)),new r(30,new n(23,15),new n(25,16))),new i(31,new Array(6,30,56,82,108,134),new r(30,new n(13,115),new n(3,116)),new r(28,new n(2,46),new n(29,47)),new r(30,new n(42,24),new n(1,25)),new r(30,new n(23,15),new n(28,16))),new i(32,new Array(6,34,60,86,112,138),new r(30,new n(17,115)),new r(28,new n(10,46),new n(23,47)),new r(30,new n(10,24),new n(35,25)),new r(30,new n(19,15),new n(35,16))),new i(33,new Array(6,30,58,86,114,142),new r(30,new n(17,115),new n(1,116)),new r(28,new n(14,46),new n(21,47)),new r(30,new n(29,24),new n(19,25)),new r(30,new n(11,15),new n(46,16))),new i(34,new Array(6,34,62,90,118,146),new r(30,new n(13,115),new n(6,116)),new r(28,new n(14,46),new n(23,47)),new r(30,new n(44,24),new n(7,25)),new r(30,new n(59,16),new n(1,17))),new i(35,new Array(6,30,54,78,102,126,150),new r(30,new n(12,121),new n(7,122)),new r(28,new n(12,47),new n(26,48)),new r(30,new n(39,24),new n(14,25)),new r(30,new n(22,15),new n(41,16))),new i(36,new Array(6,24,50,76,102,128,154),new r(30,new n(6,121),new n(14,122)),new r(28,new n(6,47),new n(34,48)),new r(30,new n(46,24),new n(10,25)),new r(30,new n(2,15),new n(64,16))),new i(37,new Array(6,28,54,80,106,132,158),new r(30,new n(17,122),new n(4,123)),new r(28,new n(29,46),new n(14,47)),new r(30,new n(49,24),new n(10,25)),new r(30,new n(24,15),new n(46,16))),new i(38,new Array(6,32,58,84,110,136,162),new r(30,new n(4,122),new n(18,123)),new r(28,new n(13,46),new n(32,47)),new r(30,new n(48,24),new n(14,25)),new r(30,new n(42,15),new n(32,16))),new i(39,new Array(6,26,54,82,110,138,166),new r(30,new n(20,117),new n(4,118)),new r(28,new n(40,47),new n(7,48)),new r(30,new n(43,24),new n(22,25)),new r(30,new n(10,15),new n(67,16))),new i(40,new Array(6,30,58,86,114,142,170),new r(30,new n(19,118),new n(6,119)),new r(28,new n(18,47),new n(31,48)),new r(30,new n(34,24),new n(34,25)),new r(30,new n(20,15),new n(61,16)))),i.getVersionForNumber=function(e){if(e<1||e>40)throw"ArgumentException";return i.VERSIONS[e-1]},i.getProvisionalVersionForDimension=function(e){if(e%4!=1)throw"Error getProvisionalVersionForDimension";try{return i.getVersionForNumber(e-17>>2)}catch(e){throw"Error getVersionForNumber"}},i.decodeVersionInformation=function(e){for(var t=4294967295,n=0,r=0;r<i.VERSION_DECODE_INFO.length;r++){var o=i.VERSION_DECODE_INFO[r];if(o==e)return this.getVersionForNumber(r+7);var a=c.numBitsDiffering(e,o);a<t&&(n=r+7,t=a)}return t<=3?this.getVersionForNumber(n):null},o.quadrilateralToQuadrilateral=function(e,t,n,r,i,o,a,s,h,d,c,l,w,f,u,m){var g=this.quadrilateralToSquare(e,t,n,r,i,o,a,s);return this.squareToQuadrilateral(h,d,c,l,w,f,u,m).times(g)},o.squareToQuadrilateral=function(e,t,n,r,i,a,s,h){return dy2=h-a,dy3=t-r+a-h,0==dy2&&0==dy3?new o(n-e,i-n,e,r-t,a-r,t,0,0,1):(dx1=n-i,dx2=s-i,dx3=e-n+i-s,dy1=r-a,denominator=dx1*dy2-dx2*dy1,a13=(dx3*dy2-dx2*dy3)/denominator,a23=(dx1*dy3-dx3*dy1)/denominator,new o(n-e+a13*n,s-e+a23*s,e,r-t+a13*r,h-t+a23*h,t,a13,a23,1))},o.quadrilateralToSquare=function(e,t,n,r,i,o,a,s){return this.squareToQuadrilateral(e,t,n,r,i,o,a,s).buildAdjoint()};var h=new Array(new Array(21522,0),new Array(20773,1),new Array(24188,2),new Array(23371,3),new Array(17913,4),new Array(16590,5),new Array(20375,6),new Array(19104,7),new Array(30660,8),new Array(29427,9),new Array(32170,10),new Array(30877,11),new Array(26159,12),new Array(25368,13),new Array(27713,14),new Array(26998,15),new Array(5769,16),new Array(5054,17),new Array(7399,18),new Array(6608,19),new Array(1890,20),new Array(597,21),new Array(3340,22),new Array(2107,23),new Array(13663,24),new Array(12392,25),new Array(16177,26),new Array(14854,27),new Array(9396,28),new Array(8579,29),new Array(11994,30),new Array(11245,31)),d=new Array(0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4);function c(e){this.errorCorrectionLevel=l.forBits(e>>3&3),this.dataMask=7&e,this.__defineGetter__("ErrorCorrectionLevel",(function(){return this.errorCorrectionLevel})),this.__defineGetter__("DataMask",(function(){return this.dataMask})),this.GetHashCode=function(){return this.errorCorrectionLevel.ordinal()<<3|dataMask},this.Equals=function(e){var t=e;return this.errorCorrectionLevel==t.errorCorrectionLevel&&this.dataMask==t.dataMask}}function l(e,t,n){this.ordinal_Renamed_Field=e,this.bits=t,this.name=n,this.__defineGetter__("Bits",(function(){return this.bits})),this.__defineGetter__("Name",(function(){return this.name})),this.ordinal=function(){return this.ordinal_Renamed_Field}}c.numBitsDiffering=function(e,t){return d[15&(e^=t)]+d[15&q(e,4)]+d[15&q(e,8)]+d[15&q(e,12)]+d[15&q(e,16)]+d[15&q(e,20)]+d[15&q(e,24)]+d[15&q(e,28)]},c.decodeFormatInformation=function(e){var t=c.doDecodeFormatInformation(e);return null!=t?t:c.doDecodeFormatInformation(21522^e)},c.doDecodeFormatInformation=function(e){for(var t=4294967295,n=0,r=0;r<h.length;r++){var i=h[r],o=i[0];if(o==e)return new c(i[1]);var a=this.numBitsDiffering(e,o);a<t&&(n=i[1],t=a)}return t<=3?new c(n):null},l.forBits=function(e){if(e<0||e>=g.length)throw"ArgumentException";return g[e]};var w=new l(0,1,"L"),f=new l(1,0,"M"),u=new l(2,3,"Q"),m=new l(3,2,"H"),g=new Array(f,w,m,u);function y(e,t){if(t||(t=e),e<1||t<1)throw"Both dimensions must be greater than 0";this.width=e,this.height=t;var n=e>>5;0!=(31&e)&&n++,this.rowSize=n,this.bits=new Array(n*t);for(var r=0;r<this.bits.length;r++)this.bits[r]=0;this.__defineGetter__("Width",(function(){return this.width})),this.__defineGetter__("Height",(function(){return this.height})),this.__defineGetter__("Dimension",(function(){if(this.width!=this.height)throw"Can't call getDimension() on a non-square matrix";return this.width})),this.get_Renamed=function(e,t){var n=t*this.rowSize+(e>>5);return 0!=(1&q(this.bits[n],31&e))},this.set_Renamed=function(e,t){var n=t*this.rowSize+(e>>5);this.bits[n]|=1<<(31&e)},this.flip=function(e,t){var n=t*this.rowSize+(e>>5);this.bits[n]^=1<<(31&e)},this.clear=function(){for(var e=this.bits.length,t=0;t<e;t++)this.bits[t]=0},this.setRegion=function(e,t,n,r){if(t<0||e<0)throw"Left and top must be nonnegative";if(r<1||n<1)throw"Height and width must be at least 1";var i=e+n,o=t+r;if(o>this.height||i>this.width)throw"The region must fit inside the matrix";for(var a=t;a<o;a++)for(var s=a*this.rowSize,h=e;h<i;h++)this.bits[s+(h>>5)]|=1<<(31&h)}}function v(e,t){this.numDataCodewords=e,this.codewords=t,this.__defineGetter__("NumDataCodewords",(function(){return this.numDataCodewords})),this.__defineGetter__("Codewords",(function(){return this.codewords}))}function b(e){var t=e.Dimension;if(t<21||1!=(3&t))throw"Error BitMatrixParser";this.bitMatrix=e,this.parsedVersion=null,this.parsedFormatInfo=null,this.copyBit=function(e,t,n){return this.bitMatrix.get_Renamed(e,t)?n<<1|1:n<<1},this.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);if(this.parsedFormatInfo=c.decodeFormatInformation(e),null!=this.parsedFormatInfo)return this.parsedFormatInfo;var r=this.bitMatrix.Dimension;e=0;var i=r-8;for(t=r-1;t>=i;t--)e=this.copyBit(t,8,e);for(n=r-7;n<r;n++)e=this.copyBit(8,n,e);if(this.parsedFormatInfo=c.decodeFormatInformation(e),null!=this.parsedFormatInfo)return this.parsedFormatInfo;throw"Error readFormatInformation"},this.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var e=this.bitMatrix.Dimension,t=e-17>>2;if(t<=6)return i.getVersionForNumber(t);for(var n=0,r=e-11,o=5;o>=0;o--)for(var a=e-9;a>=r;a--)n=this.copyBit(a,o,n);if(this.parsedVersion=i.decodeVersionInformation(n),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==e)return this.parsedVersion;n=0;for(a=5;a>=0;a--)for(o=e-9;o>=r;o--)n=this.copyBit(a,o,n);if(this.parsedVersion=i.decodeVersionInformation(n),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==e)return this.parsedVersion;throw"Error readVersion"},this.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),n=DataMask.forReference(e.DataMask),r=this.bitMatrix.Dimension;n.unmaskBitMatrix(this.bitMatrix,r);for(var i=t.buildFunctionPattern(),o=!0,a=new Array(t.TotalCodewords),s=0,h=0,d=0,c=r-1;c>0;c-=2){6==c&&c--;for(var l=0;l<r;l++)for(var w=o?r-1-l:l,f=0;f<2;f++)i.get_Renamed(c-f,w)||(d++,h<<=1,this.bitMatrix.get_Renamed(c-f,w)&&(h|=1),8==d&&(a[s++]=h,d=0,h=0));o^=!0}if(s!=t.TotalCodewords)throw"Error readCodewords";return a}}function C(e,t){if(null==t||0==t.length)throw"System.ArgumentException";this.field=e;var n=t.length;if(n>1&&0==t[0]){for(var r=1;r<n&&0==t[r];)r++;if(r==n)this.coefficients=e.Zero.coefficients;else{this.coefficients=new Array(n-r);for(var i=0;i<this.coefficients.length;i++)this.coefficients[i]=0;for(var o=0;o<this.coefficients.length;o++)this.coefficients[o]=t[r+o]}}else this.coefficients=t;this.__defineGetter__("Zero",(function(){return 0==this.coefficients[0]})),this.__defineGetter__("Degree",(function(){return this.coefficients.length-1})),this.__defineGetter__("Coefficients",(function(){return this.coefficients})),this.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},this.evaluateAt=function(e){if(0==e)return this.getCoefficient(0);var t=this.coefficients.length;if(1==e){for(var n=0,r=0;r<t;r++)n=M.addOrSubtract(n,this.coefficients[r]);return n}var i=this.coefficients[0];for(r=1;r<t;r++)i=M.addOrSubtract(this.field.multiply(e,i),this.coefficients[r]);return i},this.addOrSubtract=function(t){if(this.field!=t.field)throw"GF256Polys do not have same GF256 field";if(this.Zero)return t;if(t.Zero)return this;var n=this.coefficients,r=t.coefficients;if(n.length>r.length){var i=n;n=r,r=i}for(var o=new Array(r.length),a=r.length-n.length,s=0;s<a;s++)o[s]=r[s];for(var h=a;h<r.length;h++)o[h]=M.addOrSubtract(n[h-a],r[h]);return new C(e,o)},this.multiply1=function(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(this.Zero||e.Zero)return this.field.Zero;for(var t=this.coefficients,n=t.length,r=e.coefficients,i=r.length,o=new Array(n+i-1),a=0;a<n;a++)for(var s=t[a],h=0;h<i;h++)o[a+h]=M.addOrSubtract(o[a+h],this.field.multiply(s,r[h]));return new C(this.field,o)},this.multiply2=function(e){if(0==e)return this.field.Zero;if(1==e)return this;for(var t=this.coefficients.length,n=new Array(t),r=0;r<t;r++)n[r]=this.field.multiply(this.coefficients[r],e);return new C(this.field,n)},this.multiplyByMonomial=function(e,t){if(e<0)throw"System.ArgumentException";if(0==t)return this.field.Zero;for(var n=this.coefficients.length,r=new Array(n+e),i=0;i<r.length;i++)r[i]=0;for(i=0;i<n;i++)r[i]=this.field.multiply(this.coefficients[i],t);return new C(this.field,r)},this.divide=function(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(e.Zero)throw"Divide by 0";for(var t=this.field.Zero,n=this,r=e.getCoefficient(e.Degree),i=this.field.inverse(r);n.Degree>=e.Degree&&!n.Zero;){var o=n.Degree-e.Degree,a=this.field.multiply(n.getCoefficient(n.Degree),i),s=e.multiplyByMonomial(o,a),h=this.field.buildMonomial(o,a);t=t.addOrSubtract(h),n=n.addOrSubtract(s)}return new Array(t,n)}}function M(e){this.expTable=new Array(256),this.logTable=new Array(256);for(var t=1,n=0;n<256;n++)this.expTable[n]=t,(t<<=1)>=256&&(t^=e);for(n=0;n<255;n++)this.logTable[this.expTable[n]]=n;var r=new Array(1);r[0]=0,this.zero=new C(this,new Array(r));var i=new Array(1);i[0]=1,this.one=new C(this,new Array(i)),this.__defineGetter__("Zero",(function(){return this.zero})),this.__defineGetter__("One",(function(){return this.one})),this.buildMonomial=function(e,t){if(e<0)throw"System.ArgumentException";if(0==t)return zero;for(var n=new Array(e+1),r=0;r<n.length;r++)n[r]=0;return n[0]=t,new C(this,n)},this.exp=function(e){return this.expTable[e]},this.log=function(e){if(0==e)throw"System.ArgumentException";return this.logTable[e]},this.inverse=function(e){if(0==e)throw"System.ArithmeticException";return this.expTable[255-this.logTable[e]]},this.multiply=function(e,t){return 0==e||0==t?0:1==e?t:1==t?e:this.expTable[(this.logTable[e]+this.logTable[t])%255]}}function q(e,t){return e>=0?e>>t:(e>>t)+(2<<~t)}v.getDataBlocks=function(e,t,n){if(e.length!=t.TotalCodewords)throw"ArgumentException";for(var r=t.getECBlocksForLevel(n),i=0,o=r.getECBlocks(),a=0;a<o.length;a++)i+=o[a].Count;for(var s=new Array(i),h=0,d=0;d<o.length;d++){var c=o[d];for(a=0;a<c.Count;a++){var l=c.DataCodewords,w=r.ECCodewordsPerBlock+l;s[h++]=new v(l,new Array(w))}}for(var f=s[0].codewords.length,u=s.length-1;u>=0;){if(s[u].codewords.length==f)break;u--}u++;var m=f-r.ECCodewordsPerBlock,g=0;for(a=0;a<m;a++)for(d=0;d<h;d++)s[d].codewords[a]=e[g++];for(d=u;d<h;d++)s[d].codewords[m]=e[g++];var y=s[0].codewords.length;for(a=m;a<y;a++)for(d=0;d<h;d++){var p=d<u?a:a+1;s[d].codewords[p]=e[g++]}return s},DataMask={},DataMask.forReference=function(e){if(e<0||e>7)throw"System.ArgumentException";return DataMask.DATA_MASKS[e]},DataMask.DATA_MASKS=new Array(new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)},this.isMasked=function(e,t){return 0==(e+t&1)}},new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)},this.isMasked=function(e,t){return 0==(1&e)}},new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)},this.isMasked=function(e,t){return t%3==0}},new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)},this.isMasked=function(e,t){return(e+t)%3==0}},new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)},this.isMasked=function(e,t){return 0==(q(e,1)+t/3&1)}},new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)},this.isMasked=function(e,t){var n=e*t;return(1&n)+n%3==0}},new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)},this.isMasked=function(e,t){var n=e*t;return 0==((1&n)+n%3&1)}},new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)},this.isMasked=function(e,t){return 0==((e+t&1)+e*t%3&1)}}),M.QR_CODE_FIELD=new M(285),M.DATA_MATRIX_FIELD=new M(301),M.addOrSubtract=function(e,t){return e^t},Decoder={},Decoder.rsDecoder=new function(e){this.field=e,this.decode=function(e,t){for(var n=new C(this.field,e),r=new Array(t),i=0;i<r.length;i++)r[i]=0;var o=!0;for(i=0;i<t;i++){var a=n.evaluateAt(this.field.exp(i));r[r.length-1-i]=eval,0!=a&&(o=!1)}if(!o){var s=new C(this.field,r),h=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),s,t),d=h[0],c=h[1],l=this.findErrorLocations(d),w=this.findErrorMagnitudes(c,l,!1);for(i=0;i<l.length;i++){var f=e.length-1-this.field.log(l[i]);if(f<0)throw"ReedSolomonException Bad error location";e[f]=M.addOrSubtract(e[f],w[i])}}},this.runEuclideanAlgorithm=function(e,t,n){if(e.Degree<t.Degree){var r=e;e=t,t=r}for(var i=e,o=t,a=this.field.One,s=this.field.Zero,h=this.field.Zero,d=this.field.One;o.Degree>=Math.floor(n/2);){var c=i,l=a,w=h;if(a=s,h=d,(i=o).Zero)throw"r_{i-1} was zero";o=c;for(var f=this.field.Zero,u=i.getCoefficient(i.Degree),m=this.field.inverse(u);o.Degree>=i.Degree&&!o.Zero;){var g=o.Degree-i.Degree,y=this.field.multiply(o.getCoefficient(o.Degree),m);f=f.addOrSubtract(this.field.buildMonomial(g,y)),o=o.addOrSubtract(i.multiplyByMonomial(g,y))}s=f.multiply1(a).addOrSubtract(l),d=f.multiply1(h).addOrSubtract(w)}var v=d.getCoefficient(0);if(0==v)throw"ReedSolomonException sigmaTilde(0) was zero";var p=this.field.inverse(v),b=d.multiply2(p),C=o.multiply2(p);return new Array(b,C)},this.findErrorLocations=function(e){var t=e.Degree;if(1==t)return new Array(e.getCoefficient(1));for(var n=new Array(t),r=0,i=1;i<256&&r<t;i++)0==e.evaluateAt(i)&&(n[r]=this.field.inverse(i),r++);if(r!=t)throw"Error locator degree does not match number of roots";return n},this.findErrorMagnitudes=function(e,t,n){for(var r=t.length,i=new Array(r),o=0;o<r;o++){for(var a=this.field.inverse(t[o]),s=1,h=0;h<r;h++)o!=h&&(s=this.field.multiply(s,M.addOrSubtract(1,this.field.multiply(t[h],a))));i[o]=this.field.multiply(e.evaluateAt(a),this.field.inverse(s)),n&&(i[o]=this.field.multiply(i[o],a))}return i}}(M.QR_CODE_FIELD),Decoder.correctErrors=function(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;i++)r[i]=255&e[i];var o=e.length-t;try{Decoder.rsDecoder.decode(r,o)}catch(e){throw e}for(i=0;i<t;i++)e[i]=r[i]},Decoder.decode=function(e){for(var t=new b(e),n=t.readVersion(),r=t.readFormatInformation().ErrorCorrectionLevel,i=t.readCodewords(),o=v.getDataBlocks(i,n,r),a=0,s=0;s<o.length;s++)a+=o[s].NumDataCodewords;for(var h=new Array(a),d=0,c=0;c<o.length;c++){var l=o[c],w=l.Codewords,f=l.NumDataCodewords;Decoder.correctErrors(w,f);for(s=0;s<f;s++)h[d++]=w[s]}return new P(h,n.VersionNumber,r.Bits)},qrcode={},qrcode.imagedata=null,qrcode.width=0,qrcode.height=0,qrcode.qrCodeSymbol=null,qrcode.debug=!1,qrcode.maxImgSize=1048576,qrcode.sizeOfDataLengthInfo=[[10,9,8,8],[12,11,16,10],[14,13,16,12]],qrcode.callback=null,qrcode.decode=function(e){if(0==arguments.length){var t=document.getElementById("qr-canvas"),n=t.getContext("2d");return qrcode.width=t.width,qrcode.height=t.height,qrcode.imagedata=n.getImageData(0,0,qrcode.width,qrcode.height),qrcode.result=qrcode.process(n),null!=qrcode.callback&&qrcode.callback(qrcode.result),qrcode.result}var r=new Image;r.onload=function(){var e=document.createElement("canvas"),t=e.getContext("2d"),n=r.height,i=r.width;if(r.width*r.height>qrcode.maxImgSize){var o=r.width/r.height;i=o*(n=Math.sqrt(qrcode.maxImgSize/o))}e.width=i,e.height=n,t.drawImage(r,0,0,e.width,e.height),qrcode.width=e.width,qrcode.height=e.height;try{qrcode.imagedata=t.getImageData(0,0,e.width,e.height)}catch(e){return qrcode.result="Cross domain image reading not supported in your browser! Save it to your computer then drag and drop the file!",void(null!=qrcode.callback&&qrcode.callback(qrcode.result))}try{qrcode.result=qrcode.process(t)}catch(e){console.log(e),qrcode.result="error decoding QR Code"}null!=qrcode.callback&&qrcode.callback(qrcode.result)},r.src=e},qrcode.isUrl=function(e){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)},qrcode.decode_url=function(e){var t="";try{t=escape(e)}catch(n){console.log(n),t=e}var n="";try{n=decodeURIComponent(t)}catch(e){console.log(e),n=t}return n},qrcode.decode_utf8=function(e){return qrcode.isUrl(e)?qrcode.decode_url(e):e},qrcode.process=function(e){var t=(new Date).getTime(),n=qrcode.grayScaleToBitmap(qrcode.grayscale());if(qrcode.debug){for(var r=0;r<qrcode.height;r++)for(var i=0;i<qrcode.width;i++){var o=4*i+r*qrcode.width*4;qrcode.imagedata.data[o]=(n[i+r*qrcode.width],0),qrcode.imagedata.data[o+1]=(n[i+r*qrcode.width],0),qrcode.imagedata.data[o+2]=n[i+r*qrcode.width]?255:0}e.putImageData(qrcode.imagedata,0,0)}var a=new s(n).detect();qrcode.debug&&e.putImageData(qrcode.imagedata,0,0);for(var h=Decoder.decode(a.bits).DataByte,d="",c=0;c<h.length;c++)for(var l=0;l<h[c].length;l++)d+=String.fromCharCode(h[c][l]);var w=(new Date).getTime()-t;return console.log(w),qrcode.decode_utf8(d)},qrcode.getPixel=function(e,t){if(qrcode.width<e)throw"point error";if(qrcode.height<t)throw"point error";return point=4*e+t*qrcode.width*4,p=(33*qrcode.imagedata.data[point]+34*qrcode.imagedata.data[point+1]+33*qrcode.imagedata.data[point+2])/100,p},qrcode.binarize=function(e){for(var t=new Array(qrcode.width*qrcode.height),n=0;n<qrcode.height;n++)for(var r=0;r<qrcode.width;r++){var i=qrcode.getPixel(r,n);t[r+n*qrcode.width]=i<=e}return t},qrcode.getMiddleBrightnessPerArea=function(e){for(var t=Math.floor(qrcode.width/4),n=Math.floor(qrcode.height/4),r=new Array(4),i=0;i<4;i++){r[i]=new Array(4);for(var o=0;o<4;o++)r[i][o]=new Array(0,0)}for(var a=0;a<4;a++)for(var s=0;s<4;s++){r[s][a][0]=255;for(var h=0;h<n;h++)for(var d=0;d<t;d++){var c=e[t*s+d+(n*a+h)*qrcode.width];c<r[s][a][0]&&(r[s][a][0]=c),c>r[s][a][1]&&(r[s][a][1]=c)}}for(var l=new Array(4),w=0;w<4;w++)l[w]=new Array(4);for(a=0;a<4;a++)for(s=0;s<4;s++)l[s][a]=Math.floor((r[s][a][0]+r[s][a][1])/2);return l},qrcode.grayScaleToBitmap=function(e){for(var t=qrcode.getMiddleBrightnessPerArea(e),n=t.length,r=Math.floor(qrcode.width/n),i=Math.floor(qrcode.height/n),o=new Array(qrcode.height*qrcode.width),a=0;a<n;a++)for(var s=0;s<n;s++)for(var h=0;h<i;h++)for(var d=0;d<r;d++)o[r*s+d+(i*a+h)*qrcode.width]=e[r*s+d+(i*a+h)*qrcode.width]<t[s][a];return o},qrcode.grayscale=function(){for(var e=new Array(qrcode.width*qrcode.height),t=0;t<qrcode.height;t++)for(var n=0;n<qrcode.width;n++){var r=qrcode.getPixel(n,t);e[n+t*qrcode.width]=r}return e},Array.prototype.remove=function(e,t){var n=this.slice((t||e)+1||this.length);return this.length=e<0?this.length+e:e,this.push.apply(this,n)};function A(e,t,n){this.x=e,this.y=t,this.count=1,this.estimatedModuleSize=n,this.__defineGetter__("EstimatedModuleSize",(function(){return this.estimatedModuleSize})),this.__defineGetter__("Count",(function(){return this.count})),this.__defineGetter__("X",(function(){return this.x})),this.__defineGetter__("Y",(function(){return this.y})),this.incrementCount=function(){this.count++},this.aboutEquals=function(e,t,n){if(Math.abs(t-this.y)<=e&&Math.abs(n-this.x)<=e){var r=Math.abs(e-this.estimatedModuleSize);return r<=1||r/this.estimatedModuleSize<=1}return!1}}function _(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2],this.__defineGetter__("BottomLeft",(function(){return this.bottomLeft})),this.__defineGetter__("TopLeft",(function(){return this.topLeft})),this.__defineGetter__("TopRight",(function(){return this.topRight}))}function k(){this.image=null,this.possibleCenters=[],this.hasSkipped=!1,this.crossCheckStateCount=new Array(0,0,0,0,0),this.resultPointCallback=null,this.__defineGetter__("CrossCheckStateCount",(function(){return this.crossCheckStateCount[0]=0,this.crossCheckStateCount[1]=0,this.crossCheckStateCount[2]=0,this.crossCheckStateCount[3]=0,this.crossCheckStateCount[4]=0,this.crossCheckStateCount})),this.foundPatternCross=function(e){for(var t=0,n=0;n<5;n++){var r=e[n];if(0==r)return!1;t+=r}if(t<7)return!1;var i=Math.floor((t<<8)/7),o=Math.floor(i/2);return Math.abs(i-(e[0]<<8))<o&&Math.abs(i-(e[1]<<8))<o&&Math.abs(3*i-(e[2]<<8))<3*o&&Math.abs(i-(e[3]<<8))<o&&Math.abs(i-(e[4]<<8))<o},this.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},this.crossCheckVertical=function(e,t,n,r){for(var i=this.image,o=qrcode.height,a=this.CrossCheckStateCount,s=e;s>=0&&i[t+s*qrcode.width];)a[2]++,s--;if(s<0)return NaN;for(;s>=0&&!i[t+s*qrcode.width]&&a[1]<=n;)a[1]++,s--;if(s<0||a[1]>n)return NaN;for(;s>=0&&i[t+s*qrcode.width]&&a[0]<=n;)a[0]++,s--;if(a[0]>n)return NaN;for(s=e+1;s<o&&i[t+s*qrcode.width];)a[2]++,s++;if(s==o)return NaN;for(;s<o&&!i[t+s*qrcode.width]&&a[3]<n;)a[3]++,s++;if(s==o||a[3]>=n)return NaN;for(;s<o&&i[t+s*qrcode.width]&&a[4]<n;)a[4]++,s++;if(a[4]>=n)return NaN;var h=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(h-r)>=2*r?NaN:this.foundPatternCross(a)?this.centerFromEnd(a,s):NaN},this.crossCheckHorizontal=function(e,t,n,r){for(var i=this.image,o=qrcode.width,a=this.CrossCheckStateCount,s=e;s>=0&&i[s+t*qrcode.width];)a[2]++,s--;if(s<0)return NaN;for(;s>=0&&!i[s+t*qrcode.width]&&a[1]<=n;)a[1]++,s--;if(s<0||a[1]>n)return NaN;for(;s>=0&&i[s+t*qrcode.width]&&a[0]<=n;)a[0]++,s--;if(a[0]>n)return NaN;for(s=e+1;s<o&&i[s+t*qrcode.width];)a[2]++,s++;if(s==o)return NaN;for(;s<o&&!i[s+t*qrcode.width]&&a[3]<n;)a[3]++,s++;if(s==o||a[3]>=n)return NaN;for(;s<o&&i[s+t*qrcode.width]&&a[4]<n;)a[4]++,s++;if(a[4]>=n)return NaN;var h=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(h-r)>=r?NaN:this.foundPatternCross(a)?this.centerFromEnd(a,s):NaN},this.handlePossibleCenter=function(e,t,n){var r=e[0]+e[1]+e[2]+e[3]+e[4],i=this.centerFromEnd(e,n),o=this.crossCheckVertical(t,Math.floor(i),e[2],r);if(!isNaN(o)&&(i=this.crossCheckHorizontal(Math.floor(i),Math.floor(o),e[2],r),!isNaN(i))){for(var a=r/7,s=!1,h=this.possibleCenters.length,d=0;d<h;d++){var c=this.possibleCenters[d];if(c.aboutEquals(a,o,i)){c.incrementCount(),s=!0;break}}if(!s){var l=new A(i,o,a);this.possibleCenters.push(l),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(l)}return!0}return!1},this.selectBestPatterns=function(){var e=this.possibleCenters.length;if(e<3)throw"Couldn't find enough finder patterns";if(e>3){for(var t=0,n=0,r=0;r<e;r++){var i=this.possibleCenters[r].EstimatedModuleSize;t+=i,n+=i*i}var o=t/e;this.possibleCenters.sort((function(e,t){var n=Math.abs(t.EstimatedModuleSize-o),r=Math.abs(e.EstimatedModuleSize-o);return n<r?-1:n==r?0:1}));var a=Math.sqrt(n/e-o*o),s=Math.max(.2*o,a);for(r=0;r<this.possibleCenters.length&&this.possibleCenters.length>3;r++){var h=this.possibleCenters[r];Math.abs(h.EstimatedModuleSize-o)>s&&(this.possibleCenters.remove(r),r--)}}return this.possibleCenters.length>3&&this.possibleCenters.sort((function(e,t){return e.count>t.count?-1:e.count<t.count?1:0})),new Array(this.possibleCenters[0],this.possibleCenters[1],this.possibleCenters[2])},this.findRowSkip=function(){var e=this.possibleCenters.length;if(e<=1)return 0;for(var t=null,n=0;n<e;n++){var r=this.possibleCenters[n];if(r.Count>=2){if(null!=t)return this.hasSkipped=!0,Math.floor((Math.abs(t.X-r.X)-Math.abs(t.Y-r.Y))/2);t=r}}return 0},this.haveMultiplyConfirmedCenters=function(){for(var e=0,t=0,n=this.possibleCenters.length,r=0;r<n;r++){var i=this.possibleCenters[r];i.Count>=2&&(e++,t+=i.EstimatedModuleSize)}if(e<3)return!1;var o=t/n,a=0;for(r=0;r<n;r++)i=this.possibleCenters[r],a+=Math.abs(i.EstimatedModuleSize-o);return a<=.05*t},this.findFinderPattern=function(e){this.image=e;var t=qrcode.height,n=qrcode.width,r=Math.floor(3*t/228);r<3&&(r=3);for(var i=!1,o=new Array(5),a=r-1;a<t&&!i;a+=r){o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0;for(var s=0,h=0;h<n;h++)if(e[h+a*qrcode.width])1==(1&s)&&s++,o[s]++;else if(0==(1&s))if(4==s)if(this.foundPatternCross(o)){if(this.handlePossibleCenter(o,a,h))if(r=2,this.hasSkipped)i=this.haveMultiplyConfirmedCenters();else{var d=this.findRowSkip();d>o[2]&&(a+=d-o[2]-r,h=n-1)}else{do{h++}while(h<n&&!e[h+a*qrcode.width]);h--}s=0,o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0}else o[0]=o[2],o[1]=o[3],o[2]=o[4],o[3]=1,o[4]=0,s=3;else o[++s]++;else o[s]++;if(this.foundPatternCross(o))this.handlePossibleCenter(o,a,n)&&(r=o[0],this.hasSkipped&&(i=haveMultiplyConfirmedCenters()))}var c=this.selectBestPatterns();return qrcode.orderBestPatterns(c),new _(c)}}function B(e,t,n){this.x=e,this.y=t,this.count=1,this.estimatedModuleSize=n,this.__defineGetter__("EstimatedModuleSize",(function(){return this.estimatedModuleSize})),this.__defineGetter__("Count",(function(){return this.count})),this.__defineGetter__("X",(function(){return Math.floor(this.x)})),this.__defineGetter__("Y",(function(){return Math.floor(this.y)})),this.incrementCount=function(){this.count++},this.aboutEquals=function(e,t,n){if(Math.abs(t-this.y)<=e&&Math.abs(n-this.x)<=e){var r=Math.abs(e-this.estimatedModuleSize);return r<=1||r/this.estimatedModuleSize<=1}return!1}}function E(e,t,n,r,i,o,a){this.image=e,this.possibleCenters=new Array,this.startX=t,this.startY=n,this.width=r,this.height=i,this.moduleSize=o,this.crossCheckStateCount=new Array(0,0,0),this.resultPointCallback=a,this.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},this.foundPatternCross=function(e){for(var t=this.moduleSize,n=t/2,r=0;r<3;r++)if(Math.abs(t-e[r])>=n)return!1;return!0},this.crossCheckVertical=function(e,t,n,r){var i=this.image,o=qrcode.height,a=this.crossCheckStateCount;a[0]=0,a[1]=0,a[2]=0;for(var s=e;s>=0&&i[t+s*qrcode.width]&&a[1]<=n;)a[1]++,s--;if(s<0||a[1]>n)return NaN;for(;s>=0&&!i[t+s*qrcode.width]&&a[0]<=n;)a[0]++,s--;if(a[0]>n)return NaN;for(s=e+1;s<o&&i[t+s*qrcode.width]&&a[1]<=n;)a[1]++,s++;if(s==o||a[1]>n)return NaN;for(;s<o&&!i[t+s*qrcode.width]&&a[2]<=n;)a[2]++,s++;if(a[2]>n)return NaN;var h=a[0]+a[1]+a[2];return 5*Math.abs(h-r)>=2*r?NaN:this.foundPatternCross(a)?this.centerFromEnd(a,s):NaN},this.handlePossibleCenter=function(e,t,n){var r=e[0]+e[1]+e[2],i=this.centerFromEnd(e,n),o=this.crossCheckVertical(t,Math.floor(i),2*e[1],r);if(!isNaN(o)){for(var a=(e[0]+e[1]+e[2])/3,s=this.possibleCenters.length,h=0;h<s;h++){if(this.possibleCenters[h].aboutEquals(a,o,i))return new B(i,o,a)}var d=new B(i,o,a);this.possibleCenters.push(d),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(d)}return null},this.find=function(){for(var t=this.startX,i=this.height,o=t+r,a=n+(i>>1),s=new Array(0,0,0),h=0;h<i;h++){var d=a+(0==(1&h)?h+1>>1:-(h+1>>1));s[0]=0,s[1]=0,s[2]=0;for(var c=t;c<o&&!e[c+qrcode.width*d];)c++;for(var l=0;c<o;){if(e[c+d*qrcode.width])if(1==l)s[l]++;else if(2==l){var w;if(this.foundPatternCross(s))if(null!=(w=this.handlePossibleCenter(s,d,c)))return w;s[0]=s[2],s[1]=1,s[2]=0,l=1}else s[++l]++;else 1==l&&l++,s[l]++;c++}if(this.foundPatternCross(s))if(null!=(w=this.handlePossibleCenter(s,d,o)))return w}if(0!=this.possibleCenters.length)return this.possibleCenters[0];throw"Couldn't find enough alignment patterns"}}function P(e,t,n){this.blockPointer=0,this.bitPointer=7,this.dataLength=0,this.blocks=e,this.numErrorCorrectionCode=n,t<=9?this.dataLengthMode=0:t>=10&&t<=26?this.dataLengthMode=1:t>=27&&t<=40&&(this.dataLengthMode=2),this.getNextBits=function(e){var t=0;if(e<this.bitPointer+1){for(var n=0,r=0;r<e;r++)n+=1<<r;return n<<=this.bitPointer-e+1,t=(this.blocks[this.blockPointer]&n)>>this.bitPointer-e+1,this.bitPointer-=e,t}if(e<this.bitPointer+1+8){var i=0;for(r=0;r<this.bitPointer+1;r++)i+=1<<r;return t=(this.blocks[this.blockPointer]&i)<<e-(this.bitPointer+1),this.blockPointer++,t+=this.blocks[this.blockPointer]>>8-(e-(this.bitPointer+1)),this.bitPointer=this.bitPointer-e%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),t}if(e<this.bitPointer+1+16){i=0;var o=0;for(r=0;r<this.bitPointer+1;r++)i+=1<<r;var a=(this.blocks[this.blockPointer]&i)<<e-(this.bitPointer+1);this.blockPointer++;var s=this.blocks[this.blockPointer]<<e-(this.bitPointer+1+8);this.blockPointer++;for(r=0;r<e-(this.bitPointer+1+8);r++)o+=1<<r;return o<<=8-(e-(this.bitPointer+1+8)),t=a+s+((this.blocks[this.blockPointer]&o)>>8-(e-(this.bitPointer+1+8))),this.bitPointer=this.bitPointer-(e-8)%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),t}return 0},this.NextMode=function(){return this.blockPointer>this.blocks.length-this.numErrorCorrectionCode-2?0:this.getNextBits(4)},this.getDataLength=function(e){for(var t=0;e>>t!=1;)t++;return this.getNextBits(qrcode.sizeOfDataLengthInfo[this.dataLengthMode][t])},this.getRomanAndFigureString=function(e){var t=e,n=0,r="",i=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ",unescape("%24"),"%","*","+","-",".","/",":");do{if(t>1){var o=(n=this.getNextBits(11))%45;r+=i[Math.floor(n/45)],r+=i[o],t-=2}else 1==t&&(r+=i[n=this.getNextBits(6)],t-=1)}while(t>0);return r},this.getFigureString=function(e){var t=e,n=0,r="";do{t>=3?((n=this.getNextBits(10))<100&&(r+="0"),n<10&&(r+="0"),t-=3):2==t?((n=this.getNextBits(7))<10&&(r+="0"),t-=2):1==t&&(n=this.getNextBits(4),t-=1),r+=n}while(t>0);return r},this.get8bitByteArray=function(e){var t=e,n=0,r=new Array;do{n=this.getNextBits(8),r.push(n),t--}while(t>0);return r},this.getKanjiString=function(e){var t=e,n=0,r="";do{var i=((n=getNextBits(13))/192<<8)+n%192,o=0;o=i+33088<=40956?i+33088:i+49472,r+=String.fromCharCode(o),t--}while(t>0);return r},this.__defineGetter__("DataByte",(function(){for(var e=new Array;;){var t=this.NextMode();if(0==t){if(e.length>0)break;throw"Empty data block"}if(1!=t&&2!=t&&4!=t&&8!=t)throw"Invalid mode: "+t+" in (block:"+this.blockPointer+" bit:"+this.bitPointer+")";if(dataLength=this.getDataLength(t),dataLength<1)throw"Invalid data length: "+dataLength;switch(t){case 1:for(var n=this.getFigureString(dataLength),r=new Array(n.length),i=0;i<n.length;i++)r[i]=n.charCodeAt(i);e.push(r);break;case 2:for(n=this.getRomanAndFigureString(dataLength),r=new Array(n.length),i=0;i<n.length;i++)r[i]=n.charCodeAt(i);e.push(r);break;case 4:var o=this.get8bitByteArray(dataLength);e.push(o);break;case 8:n=this.getKanjiString(dataLength);e.push(n)}}return e}))}qrcode.orderBestPatterns=function(e){function t(e,t){return xDiff=e.X-t.X,yDiff=e.Y-t.Y,Math.sqrt(xDiff*xDiff+yDiff*yDiff)}var n,r,i,o=t(e[0],e[1]),a=t(e[1],e[2]),s=t(e[0],e[2]);if(a>=o&&a>=s?(r=e[0],n=e[1],i=e[2]):s>=a&&s>=o?(r=e[1],n=e[0],i=e[2]):(r=e[2],n=e[0],i=e[1]),function(e,t,n){var r=t.x,i=t.y;return(n.x-r)*(e.y-i)-(n.y-i)*(e.x-r)}(n,r,i)<0){var h=n;n=i,i=h}e[0]=n,e[1]=r,e[2]=i},e.exports={qrcode:qrcode,QRCodeScanner:function(e,t,n,r,i){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL;var o=e,a=t,s=n+"_video",h=r,d=i,c=document.getElementById(n),l=null,w=null,f=null,u=null,m=null;function g(){u.drawImage(l,0,0,l.videoWidth,l.videoHeight,0,0,f.width,f.height),qrcode.decode(f.toDataURL())}function y(){m&&(clearInterval(m),m=null),c.innerHTML="",l=null;try{w&&(w.stop(),w=null)}catch(e){console.log(e),d(e)}}this.isSupported=function(){return!(!(e=document.createElement("canvas")).getContext||!e.getContext("2d"))&&!!navigator.getUserMedia;var e},this.start=function(){l||(navigator.getUserMedia?(c.innerHTML='<video style="width:'+o+"px;height:"+a+'px" autoplay id="'+s+'"></video>',l=document.getElementById(s),navigator.getUserMedia({video:!0},(function(e){w=e,l.src=window.URL.createObjectURL(e)||e,setTimeout((function(){(f=document.createElement("canvas")).width=o,f.height=a,u=f.getContext("2d"),m=setInterval(g,500)}),250)}),(function(e){c.innerHTML="",l=null,e&&e.message?d(e.message):e&&e.name?d(e.name):d(e)})),qrcode.callback=function(e){e&&0!=e.indexOf("error")&&(y(),0==e.indexOf("bitcoin:")&&(e=e.substring(8)),h(e))}):d("Sorry your browser is not supported. Please try Firefox, Chrome or safari."))},this.stop=y}}}}]);